<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>No Wedding No Life - 日本語</title>
  
  <!-- フォント -->
  <link href="https://fonts.googleapis.com/css2?family=Luckiest+Guy&family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
  
  <!-- 共通スタイル -->
  <link rel="stylesheet" href="styles/global.css" />
  <link rel="stylesheet" href="styles/navigation.css" />
  <link rel="stylesheet" href="styles/hero.css" />
  <link rel="stylesheet" href="styles/message.css" />
  <link rel="stylesheet" href="styles/profile.css" />
  <link rel="stylesheet" href="styles/countdown.css" />
  <link rel="stylesheet" href="styles/schedule.css" />
  <link rel="stylesheet" href="styles/location.css" />
  <link rel="stylesheet" href="styles/rsvp.css" />
  <link rel="stylesheet" href="styles/footer.css" />
</head>
<body>
  <!-- ページ最上部バー -->
  <div class="top-bar"></div>
  
  <!-- ナビゲーション -->
  <div id="navigation-section"></div>
  
  <!-- ヒーロー -->
  <div id="hero-section"></div>
  
  <!-- Message セクション -->
  <div id="message-section"></div>
  
  <!-- Profile セクション -->
  <div id="profile-section"></div>
  
  <!-- Countdown セクション -->
  <div id="countdown-section"></div>
  
  <!-- Schedule セクション -->
  <div id="schedule-section"></div>
  
  <!-- Location セクション -->
  <div id="location-section"></div>
  
  <!-- RSVP セクション -->
  <div id="rsvp-section"></div>
  
  <!-- Footer セクション -->
  <div id="footer-section"></div>

  <!-- 共通スクリプト（最初に読み込む） -->
  <script src="scripts/global.js"></script>

  <!-- 動的読み込みスクリプト -->
  <script>
    // コンポーネント読み込み関数
    async function loadComponents() {
      const components = [
        'navigation',
        'hero',
        'message',
        'profile',
        'countdown',
        'schedule',
        'location',
        'rsvp',
        'footer'
      ];

      for (const component of components) {
        try {
          const response = await fetch(`components/${component}.html`);
          if (!response.ok) {
            throw new Error(`Failed to load ${component}.html: ${response.status}`);
          }
          
          const html = await response.text();
          const sectionId = `${component}-section`;
          const element = document.getElementById(sectionId);
          
          if (element) {
            element.innerHTML = html;
            console.log(`✓ Loaded ${component}`);
          } else {
            console.warn(`Element not found: ${sectionId}`);
          }
        } catch (error) {
          console.error(`✗ Error loading ${component}:`, error);
        }
      }

      // コンポーネント読み込み後にスクリプトを実行
      loadComponentScripts();
    }

    // コンポーネント固有のスクリプトを読み込む
    async function loadComponentScripts() {
      const scripts = [
        'navigation',
        'hero',
        'message',
        'profile',
        'countdown',
        'schedule',
        'location',
        'rsvp',
        'footer'
      ];

      for (const script of scripts) {
        const scriptEl = document.createElement('script');
        scriptEl.src = `scripts/${script}.js`;
        scriptEl.defer = true;
        document.body.appendChild(scriptEl);
      }
    }

    // ページ読み込み時にコンポーネントを読み込む
    document.addEventListener('DOMContentLoaded', loadComponents);
  </script>
</body>
</html>